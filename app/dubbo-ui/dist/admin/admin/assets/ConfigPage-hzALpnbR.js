import{d as H,a as J,n as K,u as O,f as k,c as a,t,e as r,o as l,J as C,h as e,I as h,z as _,B as p,F as T,y as U,v as m,K as v,a5 as X,X as w,G as j,H as q,_ as A}from"./index-2PcYiHuV.js";const M=d=>(j("data-v-4c314c51"),d=d(),q(),d),Q={class:"__container_common_config"},W={class:"title"},Y=M(()=>C("div",{class:"bg"},null,-1)),Z={class:"truncate-text"},ee={key:0,style:{float:"right"}},te=H({__name:"ConfigPage",props:{options:{}},setup(d){let y=d,s=J(()=>y.options.list[y.options.current[0]]),x=K(null),g=K(!1),I=O();async function N(){g.value=!0,await x.value.validate().catch(c=>{w.error("submit failed [form check]: "+c),g.value=!1});let n=y.options.list[y.options.current[0]];await n.submit(n.form).catch(c=>{w.error("submit failed [server error]: "+c)}),g.value=!1,w.success("submit success")}function V(){s.value.reset(s.value.form)}return(n,c)=>{const F=r("a-tooltip"),L=r("a-menu-item"),P=r("a-menu"),$=r("a-card"),B=r("a-col"),b=r("a-button"),R=r("a-form"),D=r("a-form-item"),E=r("a-spin"),G=r("a-row");return l(),k("div",Q,[a(G,{gutter:20},{default:t(()=>[a(B,{span:6},{default:t(()=>[a($,{class:"__opt"},{title:t(()=>[C("div",W,[Y,a(e(h),{class:"title-icon",icon:"icon-park-twotone:application-one"}),a(F,{placement:"topLeft"},{title:t(()=>{var o;return[_(p((o=e(I).params)==null?void 0:o.pathId),1)]}),default:t(()=>{var o;return[C("span",Z,p((o=e(I).params)==null?void 0:o.pathId),1)]}),_:1})])]),default:t(()=>[a(P,{selectedKeys:n.options.current,"onUpdate:selectedKeys":c[0]||(c[0]=o=>n.options.current=o)},{default:t(()=>[(l(!0),k(T,null,U(n.options.list,(o,i)=>(l(),m(L,{key:i},{default:t(()=>[i===n.options.current[0]?(l(),m(e(h),{key:0,style:{"margin-bottom":"-5px","font-size":"20px"},icon:"material-symbols:settings-b-roll-rounded"})):(l(),m(e(h),{key:1,style:{"margin-bottom":"-5px","font-size":"20px",color:"grey"},icon:"material-symbols:settings-b-roll-outline-rounded"})),_(" "+p(n.$t(o.title)),1)]),_:2},1024))),128))]),_:1},8,["selectedKeys"])]),_:1})]),_:1}),a(B,{span:18},{default:t(()=>[a($,null,{title:t(()=>{var o;return[_(p(n.$t(e(s).title))+" ",1),(o=e(s))!=null&&o.ext?(l(),k("div",ee,[a(b,{type:"primary",onClick:c[1]||(c[1]=i=>{var u,f,S,z;return(z=(u=e(s))==null?void 0:u.ext)==null?void 0:z.fun((S=(f=e(s))==null?void 0:f.form)==null?void 0:S.rules)})},{default:t(()=>{var i,u;return[_(p((u=(i=e(s))==null?void 0:i.ext)==null?void 0:u.title),1)]}),_:1})])):v("",!0)]}),default:t(()=>[a(E,{spinning:e(g)},{default:t(()=>{var o,i;return[(l(),m(R,{style:{overflow:"auto","max-height":"calc(100vh - 450px)"},ref_key:"__config_form",ref:x,key:n.options.current,"wrapper-col":{span:14},model:e(s).form,"label-col":{style:{width:"100px"}},layout:"horizontal"},{default:t(()=>[X(n.$slots,"form_"+e(s).key,{current:e(s)},void 0,!0)]),_:3},8,["model"])),(o=e(s))!=null&&o.submit||(i=e(s))!=null&&i.reset?(l(),m(D,{key:0,style:{margin:"20px 0 0 100px"}},{default:t(()=>{var u,f;return[(u=e(s))!=null&&u.submit?(l(),m(b,{key:0,type:"primary",onClick:N},{default:t(()=>[_(p(n.$t("submit")),1)]),_:1})):v("",!0),(f=e(s))!=null&&f.reset?(l(),m(b,{key:1,style:{"margin-left":"10px"},onClick:V},{default:t(()=>[_(p(n.$t("reset")),1)]),_:1})):v("",!0)]}),_:1})):v("",!0)]}),_:3},8,["spinning"])]),_:3})]),_:3})]),_:3})])}}}),se=A(te,[["__scopeId","data-v-4c314c51"]]);export{se as C};
