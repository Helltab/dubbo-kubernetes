import{d as w,k as g,l as S,m as C,Q as N,u as $,r as D,f as l,c as t,t as o,h as n,P as E,M as V,e as b,o as c,R as p,z as r,J as B,I as A,B as k,K as f,F as y,_ as O}from"./index-k-mndfGE.js";import{b as P,c as Y}from"./traffic-c0xvV-OS.js";import{S as F,a as M,s as h}from"./SearchUtil-XKGy71Cs.js";import{f as J}from"./DateUtil--6zxhYPU.js";import"./request-J76qzA4C.js";const K={class:"tag-rule-container"},G=["onClick"],j=w({__name:"index",setup(z){g(e=>({c2298156:n(E)}));const I=S(C.PROVIDE_INJECT_KEY);N(()=>{I.tagRule=null}),$();let x=[{title:"ruleName",key:"ruleName",dataIndex:"ruleName",sorter:(e,a)=>h(e.appName,a.appName),width:140},{title:"createTime",key:"createTime",dataIndex:"createTime",width:120,sorter:(e,a)=>h(e.instanceNum,a.instanceNum)},{title:"enable",key:"enabled",dataIndex:"enabled",width:120,sorter:(e,a)=>h(e.instanceNum,a.instanceNum)},{title:"operation",key:"operation",dataIndex:"operation",width:200}];const s=D(new F([{label:"serviceGovernance",param:"serviceGovernance",placeholder:"typeRoutingRules",style:{width:"200px"}}],P,x)),R=async e=>{(await Y(e)).code===200&&await s.onSearch()};N(()=>{s.onSearch(),s.tableStyle={scrollX:"100",scrollY:"367px"}});const v=e=>{R(e)};return V(C.SEARCH_DOMAIN,s),(e,a)=>{const d=b("a-button"),T=b("a-popconfirm");return c(),l("div",K,[t(M,{"search-domain":s},{customOperation:o(()=>[t(d,{type:"primary",onClick:a[0]||(a[0]=m=>n(p).push("/traffic/addTagRule/addByFormView"))},{default:o(()=>[r(" 新增标签路由规则 ")]),_:1})]),bodyCell:o(({text:m,column:i,record:u})=>[i.dataIndex==="ruleName"?(c(),l("span",{key:0,class:"rule-link",onClick:_=>n(p).push(`/traffic/tagRule/formview/${u[i.key]}`)},[B("b",null,[t(n(A),{style:{"margin-bottom":"-2px"},icon:"material-symbols:attach-file-rounded"}),r(" "+k(m),1)])],8,G)):f("",!0),i.dataIndex==="createTime"?(c(),l(y,{key:1},[r(k(n(J)(m)),1)],64)):f("",!0),i.dataIndex==="enabled"?(c(),l(y,{key:2},[r(k(m?e.$t("flowControlDomain.enabled"):e.$t("flowControlDomain.disabled")),1)],64)):f("",!0),i.dataIndex==="operation"?(c(),l(y,{key:3},[t(d,{type:"link",onClick:_=>n(p).push(`formview/${u.ruleName}`)},{default:o(()=>[r(" 查看 ")]),_:2},1032,["onClick"]),t(d,{onClick:_=>n(p).push(`/traffic/updateTagRule/updateByFormView/${u.ruleName}`),type:"link"},{default:o(()=>[r(" 修改 ")]),_:2},1032,["onClick"]),t(T,{title:"确认删除该标签路由规则？","ok-text":"Yes","cancel-text":"No",onConfirm:_=>v(u.ruleName)},{default:o(()=>[t(d,{type:"link"},{default:o(()=>[r(" 删除 ")]),_:1})]),_:2},1032,["onConfirm"])],64)):f("",!0)]),_:1},8,["search-domain"])])}}}),U=O(j,[["__scopeId","data-v-8b7bd8e7"]]);export{U as default};
