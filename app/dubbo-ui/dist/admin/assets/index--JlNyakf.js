import{d as w,k as g,l as $,m as C,Q as N,u as D,r as E,f as i,c as t,t as n,h as o,P as S,M as V,e as b,o as l,R as p,z as s,J as B,I as A,B as k,K as _,F as y,_ as O}from"./index-eYv_Far2.js";import{b as P,c as F}from"./traffic-XuFzmEwh.js";import{S as M,a as Y,s as h}from"./SearchUtil-wtrvH4l4.js";import{f as J}from"./DateUtil--CjMiQoT.js";import"./request-WeLgEOdi.js";const K={class:"__container_resources_application_index"},G=["onClick"],j=w({__name:"index",setup(z){g(e=>({"095bb9cc":o(S)}));const I=$(C.PROVIDE_INJECT_KEY);N(()=>{I.tagRule=null}),D();let x=[{title:"ruleName",key:"ruleName",dataIndex:"ruleName",sorter:(e,a)=>h(e.appName,a.appName),width:140},{title:"createTime",key:"createTime",dataIndex:"createTime",width:120,sorter:(e,a)=>h(e.instanceNum,a.instanceNum)},{title:"enable",key:"enabled",dataIndex:"enabled",width:120,sorter:(e,a)=>h(e.instanceNum,a.instanceNum)},{title:"operation",key:"operation",dataIndex:"operation",width:200}];const c=E(new M([{label:"serviceGovernance",param:"serviceGovernance",placeholder:"typeRoutingRules",style:{width:"200px"}}],P,x)),R=async e=>{(await F(e)).code===200&&await c.onSearch()};N(()=>{c.onSearch()});const v=e=>{R(e)};return V(C.SEARCH_DOMAIN,c),(e,a)=>{const d=b("a-button"),T=b("a-popconfirm");return l(),i("div",K,[t(Y,{"search-domain":c},{customOperation:n(()=>[t(d,{type:"primary",onClick:a[0]||(a[0]=m=>o(p).push("/traffic/addTagRule/addByFormView"))},{default:n(()=>[s(" 新增标签路由规则 ")]),_:1})]),bodyCell:n(({text:m,column:r,record:u})=>[r.dataIndex==="ruleName"?(l(),i("span",{key:0,class:"rule-link",onClick:f=>o(p).push(`/traffic/tagRule/formview/${u[r.key]}`)},[B("b",null,[t(o(A),{style:{"margin-bottom":"-2px"},icon:"material-symbols:attach-file-rounded"}),s(" "+k(m),1)])],8,G)):_("",!0),r.dataIndex==="createTime"?(l(),i(y,{key:1},[s(k(o(J)(m)),1)],64)):_("",!0),r.dataIndex==="enabled"?(l(),i(y,{key:2},[s(k(m?e.$t("flowControlDomain.enabled"):e.$t("flowControlDomain.disabled")),1)],64)):_("",!0),r.dataIndex==="operation"?(l(),i(y,{key:3},[t(d,{type:"link",onClick:f=>o(p).push(`formview/${u.ruleName}`)},{default:n(()=>[s(" 查看 ")]),_:2},1032,["onClick"]),t(d,{onClick:f=>o(p).push(`/traffic/updateTagRule/updateByFormView/${u.ruleName}`),type:"link"},{default:n(()=>[s(" 修改 ")]),_:2},1032,["onClick"]),t(T,{title:"确认删除该标签路由规则？","ok-text":"Yes","cancel-text":"No",onConfirm:f=>v(u.ruleName)},{default:n(()=>[t(d,{type:"link"},{default:n(()=>[s(" 删除 ")]),_:1})]),_:2},1032,["onConfirm"])],64)):_("",!0)]),_:1},8,["search-domain"])])}}}),W=O(j,[["__scopeId","data-v-e5fb208d"]]);export{W as default};
